<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'
  xmlns:th='http://www.thymeleaf.org'
>
<head>
<title>Result</title>
<!-- Bootstrap CSS only -->
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
  rel="stylesheet"
  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
  crossorigin="anonymous"
/>
</head>
<body class="m-2">
  <div class="container">

    <div class="container-fluid text-sm-center p-5 bg-light">
      <h1 class="display-2">Stripe API Tutorial</h1>
    </div>

    <h1>Charge Results</h1>

    <div th:if='${error}'>
      <!-- Display incoming attributes -->
      <table class="table">
        <tbody>
          <tr>
            <th scope="row" style='color: red;'>Error</th>
            <td><span th:text='${error}' /></td>
          </tr>
          <tr>
            <th scope="row">Request Id</th>
            <td><span th:text='${request_id}' /></td>
          </tr>
          <tr>
            <th scope="row">Status Code</th>
            <td><span th:text='${status_code}' /></td>
          </tr>
          <tr>
            <th scope="row">Charge Id</th>
            <td><span th:text='${charge_id}' /></td>
          </tr>
          <tr>
            <th scope="row">Decline Code</th>
            <td><span th:text='${decline_code}' /></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div th:unless='${error}'>
      <table class="table">
        <tbody>
          <tr>
            <th scope="row" style='color: green;'>Charge Id</th>
            <td><span th:text='${id}' /></td>
          </tr>
          <tr>
            <th scope="row">Status</th>
            <td><span th:text='${status}' /></td>
          </tr>
          <tr>
            <th scope="row">Balance Transaction Id</th>
            <td><span th:text='${balance_transaction}' /></td>
          </tr>
          <tr>
            <th scope="row">(Original) Charge Request</th>
            <td><span th:text='${charge_request}' /></td>
          </tr>
        </tbody>
      </table>
    </div>

    <a class="btn btn-primary" href='/checkout' role="button">Checkout again</a>
  </div>
</body>
</html>
